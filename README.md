homework8

一. CogQA框架理解

CogQA是一个解决互联网大规模问答多跳问题的新框架。

与此前相关框架相比，不仅引入了外部知识，运用Bert进行知识抽取，还运用GCN进行问答决策推理，给出了可解释的路径，从而在问题回答的准确性和可解释性都做出了开创性的工作。

什么叫多跳问题，研究这个问题有何意义呢？就是根据现有文本无法一步得出答案，而需要引入外部知识，并进行知识推理决策的问题。

这是一个比较有开创性和突破性的工作，虽然论文中仅研究三跳问题，但如果能把多个三跳和三跳一起conbine起来形成一个巨大的图，理论上所有跳的问题都能够解决，当然这样的设想导致的数据规模更加巨大，导致可能计算量超大，但同步可能也有减少参数的办法被发现。

大规模多跳问题的研究成果未来可能被应用在搜索、推荐等领域。总之，这是一个既有现实创新意义，又具有挑战性的工作。

本文模型同步的数据集提供了112779个问题。我们举三个问答和答案的例子有助于理解本框架。比如“Which magazine was started first Arthur's Magazine or First for Women?”、“The Oberoi family is part of a hotel company that has a head office in what city？”、“What nationality was James Henry Miller's wife？”等等。

Bert和GCN都是近年来较新的深度学习框架，在多个领域有深入广泛的应用。本论文创新性地运用这两个框架，也取得了有实际意义的成果。


二. 运行结果与论文结果比较

如下为作业未调参情况下跑出的结果。performance远不如论文中给出的，差得较多，第一行em差20%左右，第二行sp-em行差15%左右，第三行'joint_em'差19%左右。

原因是未将参数调整到合适状态。论文中bert-base-uncased的参数为，batch_size = 10, num_epoch = 1, gradient_accumulation_steps = 1, lr1 = 1e-4, lr2 = 4*1e-5, alpha = 0.01)，而作业跑的参数也就是Github中对应参数为batch_size = 12, num_epoch = 1, gradient_accumulation_steps = 1, lr1 = 1e-4, lr2 = 1e-4, alpha = 0.2):

如果将参数调整位论文状态，估计结果应该可以同步复现。由于时间因素，尚未能验证，留待以后验证。

作业跑出的结果：

{'em': 0.20229574611748818, 'f1': 0.28453167784528083, 'prec': 0.2980000643066138, 'recall': 0.29234633104424973, 

'sp_em':0.087643484132343, 'sp_f1': 0.4436039958235459, 'sp_prec': 0.5225427380958236, 'sp_recall': 0.43626571492878335, 

'joint_em': 0.041188386225523295, 'joint_f1': 0.16846707791924628, 'joint_prec': 0.20438624900745073, 'joint_recall': 0.1717743266275058}

论文中给出的对应结果：

37.6 49.4 52.2 49.9

23.1 58.5 64.3 59.7

12.2 35.3 40.3 36.5


三. 论文实施过程与细节

本次论文代码复现调试花了很长时间。

预计如果在设备和工具知识等所有条件具备的情况下，运用AWS EC2 T80 GPU资源，整个运行时间可能在12小时左右。

但实际运行中，受EC2每次所用的最大12个小时时间限制，调试可能掉线；受Memory of out影响，特别是到调试步骤的中后段，调试可能频繁停止，时间可能加长，调试失败概率大增。
解决办法是齐斌助教老师建议运用tmux工具，在实际调试中大大提高保证了调试的稳定性。

除了GPU资源等资源因素，对软件调试工具的熟练运用也是避免调试频繁失败的主要因素。依次是Redis、Rivdia-smi、gpustat、tmux等等。


四. 收获与经验

1. 大数据的预处理

2. 框架创新与思考

3. 调试工具的使用


五. 提升与改进工作

本次因为时间因素，还有水平因素，只复现了代码，未来得及对模型进行改进。

推测对数据预处理进行改进能带来performance一定程度的提高；在模型结构方面，可能也有改进的空间。但目前暂时未有进一步深入的idea，有待于在接下来的学习研究中持续改进。

感谢老师的批阅，请多多批评指正，再次感谢：）
